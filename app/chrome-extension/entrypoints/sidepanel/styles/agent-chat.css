/**
 * AgentChat Theme System
 *
 * This file defines the CSS variable tokens for the AgentChat component.
 * All components must only use these tokens - never hardcode colors.
 *
 * Themes:
 * - warm-editorial (default): Warm, editorial style from agent-ux.html
 * - dark-console: Dark terminal/console style
 * - swiss-grid: High-contrast brutalist/swiss style
 */

@layer base {
  .agent-theme {
    /* ========================================
       Font Stacks (system font fallbacks)
       ======================================== */
    --ac-font-sans:
      'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial,
      'Apple Color Emoji', 'Segoe UI Emoji';
    --ac-font-serif: 'Newsreader', ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
    --ac-font-mono:
      'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
      'Courier New', monospace;
    --ac-font-grotesk:
      'Space Grotesk', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial;

    /* Semantic font tokens */
    --ac-font-body: var(--ac-font-sans);
    --ac-font-heading: var(--ac-font-serif);
    --ac-font-code: var(--ac-font-mono);

    /* ========================================
       Geometry (Shape & Spacing)
       ======================================== */
    --ac-border-width: 1px;
    --ac-border-width-strong: 2px;
    --ac-radius-container: 0px;
    --ac-radius-card: 12px;
    --ac-radius-inner: 8px;
    --ac-radius-button: 8px;

    /* Motion */
    --ac-motion-fast: 120ms;
    --ac-motion-normal: 180ms;

    /* Timeline sizing */
    --ac-timeline-line-width: 1px;
    --ac-timeline-node-size: 8px;
    --ac-timeline-indent: 24px;

    /* Scrollbar sizing */
    --ac-scrollbar-size: 4px;

    /* ========================================
       WARM EDITORIAL (Default Theme)
       ======================================== */

    /* Background */
    --ac-bg: #fdfcf8;
    --ac-bg-pattern: none;
    --ac-bg-pattern-size: 16px 16px;

    /* Header */
    --ac-header-bg: rgba(253, 252, 248, 0.95);
    --ac-header-border: rgba(245, 245, 244, 0.5);

    /* Surfaces */
    --ac-surface: #ffffff;
    --ac-surface-muted: #f2f0eb;
    --ac-surface-inset: #f2f0eb;

    /* Text */
    --ac-text: #1a1a1a;
    --ac-text-muted: #6e6e6e;
    --ac-text-subtle: #a8a29e;
    --ac-text-inverse: #ffffff;
    --ac-text-placeholder: #a8a29e;

    /* Borders */
    --ac-border: #e7e5e4;
    --ac-border-strong: #d6d3d1;

    /* Hover states */
    --ac-hover-bg: #f5f5f4;
    --ac-hover-bg-subtle: #fafaf9;

    /* Accent (terracotta) */
    --ac-accent: #d97757;
    --ac-accent-hover: #c4664a;
    --ac-accent-subtle: rgba(217, 119, 87, 0.12);
    --ac-accent-contrast: #ffffff;
    --ac-accent-2: var(--ac-accent);

    /* Links */
    --ac-link: var(--ac-accent);
    --ac-link-hover: var(--ac-accent-hover);

    /* Selection */
    --ac-selection-bg: #ffedd5;
    --ac-selection-text: #7c2d12;

    /* Shadows */
    --ac-shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08);
    --ac-shadow-float: 0 4px 20px -2px rgba(0, 0, 0, 0.05);

    /* Focus */
    --ac-focus-ring: rgba(214, 211, 209, 0.9);

    /* Timeline */
    --ac-timeline-line: #e7e5e4;
    --ac-timeline-node: #d6d3d1;
    --ac-timeline-node-hover: #a8a29e;
    --ac-timeline-node-active: var(--ac-accent);
    --ac-timeline-node-active-border: var(--ac-accent);
    --ac-timeline-node-pulse-shadow:
      0 0 0 2px rgba(217, 119, 87, 0.25), 0 0 12px rgba(217, 119, 87, 0.2);

    /* Chips/Pills */
    --ac-chip-bg: #f2f0eb;
    --ac-chip-text: #1a1a1a;
    --ac-chip-border: #e7e5e4;

    /* Code blocks */
    --ac-code-bg: #ffffff;
    --ac-code-text: #1a1a1a;
    --ac-code-border: #e7e5e4;

    /* Diff colors */
    --ac-diff-add-bg: rgba(240, 253, 244, 0.6);
    --ac-diff-add-text: #15803d;
    --ac-diff-add-border: #4ade80;
    --ac-diff-del-bg: rgba(254, 242, 242, 0.6);
    --ac-diff-del-text: #b91c1c;
    --ac-diff-del-border: #fca5a5;

    /* Status colors */
    --ac-success: #22c55e;
    --ac-warning: #f59e0b;
    --ac-danger: #ef4444;

    /* Scrollbar */
    --ac-scrollbar-thumb: #e5e5e5;
    --ac-scrollbar-thumb-hover: #d4d4d4;
  }

  /* ========================================
     WARM EDITORIAL (Explicit for clarity)
     ======================================== */
  .agent-theme[data-agent-theme='warm-editorial'] {
    --ac-font-body: var(--ac-font-sans);
    --ac-font-heading: var(--ac-font-serif);
    --ac-font-code: var(--ac-font-mono);

    --ac-bg: #fdfcf8;
    --ac-bg-pattern: none;
    --ac-header-bg: rgba(253, 252, 248, 0.95);
    --ac-header-border: rgba(245, 245, 244, 0.5);
    --ac-surface: #ffffff;
    --ac-surface-muted: #f2f0eb;
    --ac-text: #1a1a1a;
    --ac-text-muted: #6e6e6e;
    --ac-text-subtle: #a8a29e;
    --ac-border: #e7e5e4;
    --ac-accent: #d97757;
    --ac-shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08);
    --ac-radius-card: 12px;
    --ac-border-width: 1px;
  }

  /* ========================================
     DARK CONSOLE
     ======================================== */
  .agent-theme[data-agent-theme='dark-console'] {
    --ac-font-body: var(--ac-font-mono);
    --ac-font-heading: var(--ac-font-mono);
    --ac-font-code: var(--ac-font-mono);

    --ac-bg: #0f1117;
    --ac-bg-pattern: none;
    --ac-bg-pattern-size: 16px 16px;

    --ac-header-bg: #0f1117;
    --ac-header-border: #1f2937;

    --ac-surface: #0f1117;
    --ac-surface-muted: #0a0c10;
    --ac-surface-inset: #1a1d26;

    --ac-text: #e5e7eb;
    --ac-text-muted: #9ca3af;
    --ac-text-subtle: #6b7280;
    --ac-text-inverse: #0a0c10;
    --ac-text-placeholder: #4b5563;

    --ac-border: #1f2937;
    --ac-border-strong: #374151;

    --ac-hover-bg: rgba(255, 255, 255, 0.06);
    --ac-hover-bg-subtle: rgba(255, 255, 255, 0.04);

    --ac-accent: #c084fc;
    --ac-accent-hover: #d8b4fe;
    --ac-accent-subtle: rgba(192, 132, 252, 0.14);
    --ac-accent-contrast: #0a0c10;

    --ac-accent-2: #60a5fa;
    --ac-link: var(--ac-accent-2);
    --ac-link-hover: #93c5fd;

    --ac-selection-bg: rgba(192, 132, 252, 0.25);
    --ac-selection-text: #ffffff;

    --ac-shadow-card: none;
    --ac-shadow-float: none;
    --ac-focus-ring: rgba(192, 132, 252, 0.35);

    --ac-timeline-line-width: 2px;
    --ac-timeline-line: #1f2937;
    --ac-timeline-node: #374151;
    --ac-timeline-node-hover: #6b7280;
    --ac-timeline-node-active: var(--ac-accent);
    --ac-timeline-node-active-border: var(--ac-accent);
    --ac-timeline-node-pulse-shadow:
      0 0 0 2px rgba(192, 132, 252, 0.35), 0 0 14px rgba(192, 132, 252, 0.25);

    --ac-chip-bg: rgba(255, 255, 255, 0.06);
    --ac-chip-text: #e5e7eb;
    --ac-chip-border: rgba(255, 255, 255, 0.1);

    --ac-code-bg: #0a0c10;
    --ac-code-text: #e5e7eb;
    --ac-code-border: #1f2937;

    --ac-diff-add-bg: rgba(74, 222, 128, 0.1);
    --ac-diff-add-text: #4ade80;
    --ac-diff-add-border: rgba(74, 222, 128, 0.35);

    --ac-diff-del-bg: rgba(248, 113, 113, 0.1);
    --ac-diff-del-text: #f87171;
    --ac-diff-del-border: rgba(248, 113, 113, 0.35);

    --ac-scrollbar-thumb: rgba(255, 255, 255, 0.12);
    --ac-scrollbar-thumb-hover: rgba(255, 255, 255, 0.22);
  }

  /* ========================================
     SWISS GRID
     ======================================== */
  .agent-theme[data-agent-theme='swiss-grid'] {
    --ac-font-body: var(--ac-font-grotesk);
    --ac-font-heading: var(--ac-font-grotesk);
    --ac-font-code: var(--ac-font-mono);

    --ac-bg: #ffffff;
    --ac-bg-pattern: radial-gradient(#e5e7eb 1px, transparent 1px);
    --ac-bg-pattern-size: 16px 16px;

    --ac-header-bg: #ffffff;
    --ac-header-border: #000000;

    --ac-surface: #ffffff;
    --ac-surface-muted: #f3f4f6;
    --ac-surface-inset: #ffffff;

    --ac-text: #000000;
    --ac-text-muted: #374151;
    --ac-text-subtle: #6b7280;
    --ac-text-inverse: #ffffff;
    --ac-text-placeholder: #9ca3af;

    --ac-border: #000000;
    --ac-border-strong: #000000;

    --ac-hover-bg: #f3f4f6;
    --ac-hover-bg-subtle: #f9fafb;

    --ac-accent: #000000;
    --ac-accent-hover: #111827;
    --ac-accent-subtle: rgba(0, 0, 0, 0.06);
    --ac-accent-contrast: #ffffff;
    --ac-accent-2: #000000;

    --ac-link: #000000;
    --ac-link-hover: #111827;

    --ac-selection-bg: #000000;
    --ac-selection-text: #ffffff;

    --ac-border-width: 2px;
    --ac-border-width-strong: 2px;
    --ac-radius-card: 0px;
    --ac-radius-inner: 0px;
    --ac-radius-button: 0px;

    --ac-shadow-card: 4px 4px 0 0 rgba(0, 0, 0, 1);
    --ac-shadow-float: 4px 4px 0 0 rgba(0, 0, 0, 1);
    --ac-focus-ring: rgba(0, 0, 0, 0.5);

    --ac-timeline-line-width: 2px;
    --ac-timeline-line: #000000;
    --ac-timeline-node: #000000;
    --ac-timeline-node-hover: #111827;
    --ac-timeline-node-active: #000000;
    --ac-timeline-node-active-border: #000000;
    --ac-timeline-node-pulse-shadow: 0 0 0 2px rgba(0, 0, 0, 1);

    --ac-chip-bg: #ffffff;
    --ac-chip-text: #000000;
    --ac-chip-border: #000000;

    --ac-code-bg: #ffffff;
    --ac-code-text: #000000;
    --ac-code-border: #000000;

    --ac-diff-add-bg: #000000;
    --ac-diff-add-text: #ffffff;
    --ac-diff-add-border: #000000;

    --ac-diff-del-bg: #f3f4f6;
    --ac-diff-del-text: #6b7280;
    --ac-diff-del-border: #000000;

    --ac-scrollbar-thumb: rgba(0, 0, 0, 0.25);
    --ac-scrollbar-thumb-hover: rgba(0, 0, 0, 0.4);
  }

  /* ========================================
     Base Styles (apply to .agent-theme)
     ======================================== */
  .agent-theme {
    color: var(--ac-text);
    background: var(--ac-bg);
    background-image: var(--ac-bg-pattern);
    background-size: var(--ac-bg-pattern-size);
    font-family: var(--ac-font-body);
  }

  .agent-theme ::selection {
    background: var(--ac-selection-bg);
    color: var(--ac-selection-text);
  }

  /* ========================================
     Scrollbar Styles
     ======================================== */
  .agent-theme .ac-scroll {
    scrollbar-width: thin;
    scrollbar-color: var(--ac-scrollbar-thumb) transparent;
  }

  .agent-theme .ac-scroll::-webkit-scrollbar {
    width: var(--ac-scrollbar-size);
    height: var(--ac-scrollbar-size);
  }

  .agent-theme .ac-scroll::-webkit-scrollbar-track {
    background: transparent;
  }

  .agent-theme .ac-scroll::-webkit-scrollbar-thumb {
    background-color: var(--ac-scrollbar-thumb);
    border-radius: 999px;
  }

  .agent-theme .ac-scroll::-webkit-scrollbar-thumb:hover {
    background-color: var(--ac-scrollbar-thumb-hover);
  }

  /* Hide scrollbar but keep functionality */
  .agent-theme .ac-scroll-hidden {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .agent-theme .ac-scroll-hidden::-webkit-scrollbar {
    display: none;
  }

  /* ========================================
     Utility Classes
     ======================================== */

  /* Focus ring */
  .agent-theme .ac-focus-ring:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--ac-focus-ring);
  }

  /* Hover utilities */
  .agent-theme .ac-hover-bg:hover {
    background-color: var(--ac-hover-bg);
  }

  .agent-theme .ac-hover-text:hover {
    color: var(--ac-text);
  }

  .agent-theme .ac-hover-link:hover {
    color: var(--ac-link);
  }

  .agent-theme .ac-hover-accent:hover {
    color: var(--ac-accent);
  }

  /* Button/interactive element base */
  .agent-theme .ac-btn {
    transition:
      background-color var(--ac-motion-fast),
      color var(--ac-motion-fast);
  }

  .agent-theme .ac-btn:hover {
    background-color: var(--ac-hover-bg);
  }

  /* Menu item */
  .agent-theme .ac-menu-item {
    transition: background-color var(--ac-motion-fast);
  }

  .agent-theme .ac-menu-item:hover {
    background-color: var(--ac-hover-bg);
  }

  /* Chip/pill hover */
  .agent-theme .ac-chip-hover:hover {
    color: var(--ac-link);
  }

  /* Pulse animation for streaming indicator */
  @keyframes ac-pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .agent-theme .ac-pulse {
    animation: ac-pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .agent-theme .ac-pulse {
      animation: none;
    }
  }
}
